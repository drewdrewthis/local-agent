services:
  clara:
    build: .
    container_name: clara-sandbox
    volumes:
      # Mount entire repo - agent can commit and push
      - .:/workspace
      # Persist git credentials
      - ~/.gitconfig:/root/.gitconfig:ro
      - ~/.ssh:/root/.ssh:ro
    ports:
      - "6080:6080"  # noVNC
    environment:
      - DISPLAY=:99
      - GIT_AUTHOR_NAME=Clara Gemmastone
      - GIT_AUTHOR_EMAIL=clara.gemmastone@gmail.com
      - GIT_COMMITTER_NAME=Clara Gemmastone
      - GIT_COMMITTER_EMAIL=clara.gemmastone@gmail.com
    stdin_open: true
    tty: true
